<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Part Two</title>

    <link rel="stylesheet" type="text/css" href="../bs/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="../bs/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="myStyle.css">
    <script type="text/javascript" src="interface.js"></script>

    <style type ="text/css" >
        .footer{
            position: fixed;
            text-align: center;
            bottom: 0px;
            width: 100%;
        }
    </style>

</head>
<body onload="getCycle()">

<div class="container">
    <form action="http://localhost:63342/test/interface.html">
        <input type="submit" value="Menu">
    </form>
</div>

<div id="box1">

</div>

<div id="box2">

</div>

<div id="box3">

</div>

<div id="box4">

</div>

<div id="box5">

</div>

<div class="footer">
    <form name="myForm">
        <div class=”footer”">
            <label for="cycleTime2">Cycle time: </label>
            <input type="text" name="cycleTime2" id="cycletime2">
    </form>
</div>

<div class="container">
    <p id="temp"></p>
</div>

<script>

    function getCycle(){
        var queryString = window.location.search;
        queryString = queryString.substring(1);

        var word = queryString.split("=");
        var num = word[2].substring(0,word[2].lastIndexOf("&"));

        setInterval(loadXMLDoc, (parseInt(num) * 1000));
    }

    function loadXMLDoc() {

        var xmlhttp;
        if (window.XMLHttpRequest) {
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for older browsers
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                var result1 = (xmlhttp.responseText).match(/<b>(.*?)<\/b>/g).map(function(val){
                     return val.replace(/<\/?b>/g,'');
                 });

+                var result2 = (xmlhttp.responseText).match(/<b>(.*?)<\/b>/g).map(function(val){
+                    return val.replace(/<\/?b>/g,'');
+                });
+                
+                var result3 = (xmlhttp.responseText).match(/<b>(.*?)<\/b>/g).map(function(val){
+                    return val.replace(/<\/?b>/g,'');
+                });
+                
+                var result4 = (xmlhttp.responseText).match(/<b>(.*?)<\/b>/g).map(function(val){
+                    return val.replace(/<\/?b>/g,'');
+                });
+                
+                var result5 = (xmlhttp.responseText).match(/<b>(.*?)<\/b>/g).map(function(val){
+                    return val.replace(/<\/?b>/g,'');
+                });
                
                changeBackground((getInteger(result1[0], result1[1])), document.getElementById("box1"));
                
                changeBackground((getInteger(result2[0], result2[1])), document.getElementById("box2"));
                
                changeBackground((getInteger(result3[0], result3[1])), document.getElementById("box3"));
                
                changeBackground((getInteger(result4[0], result4[1])), document.getElementById("box4"));
                
                changeBackground((getInteger(result5[0], result5[1])), document.getElementById("box5"));
            }
        };
        xmlhttp.open("GET", "http://markent94.github.io/-414Project/?id=" + Math.random(), true);
        xmlhttp.send();
    }

    function changeBackground(number, elem) {
        switch (number) {
            case 0:
                elem.style.backgroundColor = "#75C7F0";
                break;
            case 1:
                elem.body.style.backgroundColor = "#C3E619";
                break;
            case 2:
                elem.body.style.backgroundColor = "pink";
                break;
            case 3:
                elem.body.style.backgroundColor = "#FFE666";
                break;
            case 4:
                elem.body.style.backgroundColor = "#6347EB";
                break;
            case 5:
                elem.body.style.backgroundColor = "#9C8FA3";
                break;
            case 6:
                elem.body.style.backgroundColor = "red";
                break;
        }
    }

</script>
</body>
</html>
